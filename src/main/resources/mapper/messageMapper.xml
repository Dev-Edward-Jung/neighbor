<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.neighbor.mapper.MessageMapper">
<!-- 내가 보낸 쪽지 전체 -->
    <select id="findBySenderId" resultType="memberVO">
        select message_id, message_content, message_register_date, ms.board_id, board_title, member_nickname, message_sender_id, message_getter_id
from tbl_message ms join tbl_board b on ms.board_id=b.board_id join tbl_member m on m.member_id=ms.message_getter_id  where message_sender_id = #{messageSenderId}
    </select>

    <select id="findByBoardId" resultType="memberVO">
        select message_id, message_content, message_register_date, board_id, message_sender_id, message_getter_id
        from tbl_message where message_sender_id = #{messageSenderId} and board_id = #{boardId}
    </select>

    <select id="findBy" resultType="purchaseVO">
        select purchase_id, board_id, customer_id
        from tbl_purchase where customer_id = #{customerId} and board_id = #{boardId}
    </select>

</mapper>